<!DOCTYPE html>
<html>
<head>
    <title>–°–æ–∑–¥–∞–Ω–∏–µ Story</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
            text-align: center;
        }
        .step {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: left;
        }
        .step-number {
            background: #0088cc;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }
        button {
            background: #0088cc;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
            width: 100%;
        }
        button:hover {
            background: #0077bb;
        }
        .preview {
            width: 200px;
            height: 350px;
            background: #333;
            margin: 20px auto;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üì± –°–æ–∑–¥–∞–Ω–∏–µ Story</h1>
        
        <div id="step1">
            <div class="step">
                <span class="step-number">1</span>
                <strong>–°–∫–∞—á–∞–π—Ç–µ –º–µ–¥–∏–∞</strong>
                <p>–ù–∞–∂–º–∏—Ç–µ –∏ —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ—ë –≤ –≥–∞–ª–µ—Ä–µ—é</p>
            </div>
            
            <div class="preview">
                üì∏ –í–∞—à–µ –º–µ–¥–∏–∞<br>
                (–∑–¥–µ—Å—å –±—É–¥–µ—Ç preview)
            </div>
            
            <button onclick="showStep2()">‚úÖ –Ø —Å–æ—Ö—Ä–∞–Ω–∏–ª(–∞) –º–µ–¥–∏–∞</button>
        </div>

        <div id="step2" class="hidden">
            <div class="step">
                <span class="step-number">2</span>
                <strong>–û—Ç–∫—Ä–æ–π—Ç–µ Telegram</strong>
                <p>–í—ã–π–¥–∏—Ç–µ –∏–∑ —ç—Ç–æ–≥–æ –æ–∫–Ω–∞ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram</p>
            </div>
            
            <button onclick="showStep3()">‚úÖ –Ø –≤ Telegram</button>
        </div>

        <div id="step3" class="hidden">
            <div class="step">
                <span class="step-number">3</span>
                <strong>–°–æ–∑–¥–∞–π—Ç–µ Story</strong>
                <p>–ù–∞–∂–º–∏—Ç–µ <b>¬´+¬ª</b> ‚Üí <b>¬´Story¬ª</b> ‚Üí <b>¬´–ì–∞–ª–µ—Ä–µ—è¬ª</b></p>
            </div>
            
            <div class="preview">
                ‚ûï Create Story<br>
                üìÅ Gallery
            </div>
            
            <button onclick="showStep4()">‚úÖ Story —Å–æ–∑–¥–∞–Ω–∞</button>
        </div>

        <div id="step4" class="hidden">
            <div class="step">
                <span class="step-number">4</span>
                <strong>–û–ø—É–±–ª–∏–∫—É–π—Ç–µ</strong>
                <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç/—Å—Ç–∏–∫–µ—Ä—ã –∏ –Ω–∞–∂–º–∏—Ç–µ <b>¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª</b> ‚Üí <b>¬´–ú–æ–∏ –∏—Å—Ç–æ—Ä–∏–∏¬ª</b></p>
            </div>
            
            <button onclick="showStep5()">‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!</button>
        </div>

        <div id="step5" class="hidden">
            <div class="step">
                <span class="step-number">5</span>
                <strong>–ü–µ—Ä–µ—à–ª–∏—Ç–µ –±–æ—Ç—É</strong>
                <p>–û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ—é Story ‚Üí –Ω–∞–∂–º–∏—Ç–µ <b>¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª</b> ‚Üí –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞</p>
            </div>
            
            <button onclick="completeTask()">üéâ –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!</button>
        </div>

        <div id="final" class="hidden">
            <h2>‚úÖ –û—Ç–ª–∏—á–Ω–æ!</h2>
            <p>–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ—à–ª–∏—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—É—é Story –Ω–∞—à–µ–º—É –±–æ—Ç—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</p>
            <button onclick="closeApp()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        function showStep2() {
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
        }

        function showStep3() {
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('step3').classList.remove('hidden');
        }

        function showStep4() {
            document.getElementById('step3').classList.add('hidden');
            document.getElementById('step4').classList.remove('hidden');
        }

        function showStep5() {
            document.getElementById('step4').classList.add('hidden');
            document.getElementById('step5').classList.remove('hidden');
        }

        function completeTask() {
            document.getElementById('step5').classList.add('hidden');
            document.getElementById('final').classList.remove('hidden');
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç
            tg.sendData(JSON.stringify({
                action: "story_guide_completed",
                message: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—à–µ–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é"
            }));
        }

        function closeApp() {
            tg.close();
        }
    </script>
</body>
</html>
